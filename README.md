# script_audit
脚本审核处理系统

## 功能
1. 申请单录入(研发组) dev

- 创建审批流程单

```
单号 : 自动生成
标题 : xxxxxx
系统 : 老系统|PAAS
类型 : 数据提取|数据处理
执行时间 : 执行脚本的时间
审批员 : 多选 (一级审核组) 
内容 : 一大段需求描述文字,最后包含脚本的svn请求地址
发送时间 : 系统自动生成
按钮 : 取消/发送
```
- 审批列表(开发组dev)  - 显示自己提交过的审批单
```
标题  发送时间 内容 申请执行时间 一级审批时间(如果有值,则表示已通过审批) 二级审批时间(如果有值,则表示已通过审批) 处理状态(审批1/审批2/已执行/已驳回) 

```

2. 审批(审批组audit)
```
审批 
单号 标题 发送人 发送内容(鼠标移上去显示申请内容) 申请执行时间 发送时间 审批(弹窗选择通过还是驳回,可选择驳回原因) 审批时间(隐藏,自动生成) 

```
3. 操作组(dba)
```
单号 标题 发送人 内容 申请执行时间 状态(审批一/审批二/已处理 如果不是已处理,则有处理按钮,处理按钮点开选择已处理或者驳回,可写驳回原因,邮件通知) 
```
## 库表设计
```
issue(申请单)
id(单号),title(标题),system(系统),type(数据提取|脚本执行),content(内容),send_time(发送时间),audit_time(审核时间),status(审批状态),comment(备注)

```
## 安装说明
```
# 执行下面命令将自动构件容器并运行
sh start.sh

# 进入容器初始化数据
docker exec -it contaner bash
python3 manage.py loaddata data/init.json

```






